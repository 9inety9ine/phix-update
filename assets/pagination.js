import"regenerator-runtime/runtime";let currentPage=1,activeLocation=window.location.origin+window.location.pathname;const loadMore=document.getElementById("load-more");let newLocation="";const collectionContainer=document.getElementById("products");let productsPerPage=8,productsPerPageEl=document.getElementById("products-per-page"),totalProducts=(productsPerPageEl&&(productsPerPage=Number(productsPerPageEl.textContent)),16),totalProductsEl=document.getElementById("total-products"),totalPages=(totalProductsEl&&(totalProducts=Number(totalProductsEl.textContent)),1);totalPages=Math.ceil(totalProducts/productsPerPage);const scrollWindow=function(){var t=Number(getCurrentPage()),t=productsPerPage*(t-1)+1;document.querySelector(".product:nth-child("+t+")").scrollIntoView({behavior:"smooth",block:"start"})},outputInfo=function(){console.log("Total Products: "+totalProducts),console.log("Products Per Page: "+productsPerPage),console.log("Total Pages: "+totalPages),console.log("Current Page: "+currentPage),console.log("Active Location: "+(activeLocation+newLocation)),console.log("Location: "+window.location)},getCurrentPage=function(){var t,e=window.location.search;if(e)for(t of new URLSearchParams(e).entries())currentPage="page"===t[0]?t[1]:1;return currentPage},toggleButton=(getCurrentPage(),function(){loadMore&&(1<totalPages&&currentPage<totalPages?loadMore.classList.remove("hide"):loadMore.classList.add("hide"))}),checkParams=function(){var e=window.location.search,e=new URLSearchParams(e).entries();if(e){let t="?";for(var o of e)"page"!==o[0]&&(t+=`&${o[0]}=`+o[1].replace("%20","+").replace(" ","+").replace("&","%26"));newLocation="",t+="&page="+currentPage,newLocation+=t}else newLocation="",newLocation+="?&page="+currentPage;history.replaceState(null,"",activeLocation+newLocation)},fetchResults=function(){loadMore.parentNode.classList.add("loading"),checkParams();var t=newLocation;let e="";fetch(activeLocation+t).then(function(t){return t.text()}).then(function(t){0<t.indexOf("\x3c!--[product-cards]--\x3e")?e=t.split("\x3c!--[product-cards]--\x3e").pop().split("\x3c!--[/product-cards]--\x3e")[0]:collectionContainer.innerHTML="<p>Nothing here...</p>",collectionContainer.innerHTML+=e,window.initAddToCart(),window.initialiseQuickAddButtons(),window.initializeImageLoad(),toggleButton()}).finally(function(){loadMore.parentNode.classList.remove("loading"),window.trustPilotInit()})};if(loadMore&&loadMore.addEventListener("click",function(){currentPage++,fetchResults()}),1<currentPage){let e=1,t=window.location.search,o=new URLSearchParams(t);if(o){var newParams="?";for(let t of o)"page"!==t[0]&&(newParams+=`&${t[0]}=`+t[1].replace("%20","+").replace(" ","+").replace("&","%26"))}let n="";async function fetchProducts(){for(;e<=currentPage;){var t=await(await fetch(activeLocation+newParams+"&page="+e)).text();0<t.indexOf("\x3c!--[product-cards]--\x3e")?n=t.split("\x3c!--[product-cards]--\x3e").pop().split("\x3c!--[/product-cards]--\x3e")[0]:collectionContainer.innerHTML="<p>Nothing here...</p>",collectionContainer.innerHTML+=n,e++}}collectionContainer.innerHTML="",fetchProducts().then(()=>{window.initAddToCart(),window.initialiseQuickAddButtons(),window.initializeImageLoad(),toggleButton(),window.trustPilotInit()})}