const siteHeader=document.getElementById("shopify-section-header"),productSection=document.querySelector(".section-product"),productWrapper=productSection.querySelector(".wrap"),breadcrumbs=productWrapper.querySelector(".breadcrumbs"),productDetails=document.querySelector(".section-product__container"),modalToggle=(window.heightFromTop=function(e){var t,o,i,n;768<=e?(e=window.innerHeight,t=productDetails.offsetHeight,i=siteHeader.offsetHeight,n=breadcrumbs.offsetHeight,o=window.getComputedStyle(productWrapper,null).getPropertyValue("padding-top"),t<(i=e-(e=i+n+Number(o.replace("px",""))))?productDetails.style.top=e+"px":(n=e-(t-i),productDetails.style.top=n+"px"),productDetails.style.position="sticky"):(productDetails.style.position="relative",productDetails.style.top="auto")},window.addEventListener("DOMContentLoaded",function(){window.heightFromTop(window.innerWidth),Fancybox.bind('[data-fancybox="gallery"]',{Thumbs:!1,Toolbar:!1})}),window.addEventListener("resize",function(){window.heightFromTop(window.innerWidth)}),window.addEventListener("scroll",function(){window.heightFromTop(window.innerWidth)}),document.querySelector(".toggle-size-modal")),productMessages=(modalToggle&&modalToggle.addEventListener("click",e=>{e.preventDefault(),window.toggleDrawer("guides",!1)}),document.querySelectorAll(".product-message-regional"));if(productMessages)if(void 0!==client_country&&void 0!==client_continent){for(let e of productMessages){const n=e.dataset.region,o=e.dataset.code.replaceAll(" ","").split(",");let t=!1;if("country"===n)for(let e=0;e<o.length;e++)client_country===o[e]&&(t=!0);if("continent"===n)for(let e=0;e<o.length;e++)client_continent===o[e]&&(t=!0);!1===t&&e.remove()}for(let e of productMessages)e.classList.add("show")}else for(let e of productMessages)e.remove();const globalProductAnnouncements=document.querySelectorAll(".product-message-global");if(globalProductAnnouncements&&void 0!==client_country&&void 0!==client_continent){for(let e of globalProductAnnouncements){const v=e.dataset.region,w=e.dataset.code;let t=!1;if(v&&w){const y=w.replaceAll(" ","").split(",");if("country"===v)for(let e=0;e<y.length;e++)client_country===y[e]&&(t=!0);if("continent"===v)for(let e=0;e<y.length;e++)client_continent===y[e]&&(t=!0)}!0===t&&e.remove()}for(let e of globalProductAnnouncements)e.classList.add("show")}window.initProductAddToWishlist=function(){const n=document.querySelector(".add-product-to-wishlist");n&&n.addEventListener("click",e=>{e.preventDefault();var e=n.parentNode.parentNode.parentNode;const t=e.querySelector(".wishlist-message"),o=e.querySelector(".added-message"),i=e.querySelector(".remove-message");n.classList.contains("active")?(e=n.dataset.id,fetch("https://wishlist.hydratedelephant.com/wishlist",{method:"POST",headers:{"Content-type":"application/json","X-Customer-Security-Token":cake.customer_api_token},body:JSON.stringify({customer_id:cake.customer_id,store_name:Shopify.shop.replace(".myshopify.com",""),product_id:e})}).then(e=>e.json()).then(e=>{"added"===e.action?(n.classList.add("added"),o.classList.add("active"),setTimeout(()=>{o.classList.remove("active")},2500)):(n.classList.remove("added"),i.classList.add("active"),setTimeout(()=>{i.classList.remove("active")},2500))})):(t.classList.add("active"),setTimeout(()=>{t.classList.remove("active")},2500))})},window.initProductAddToWishlist();