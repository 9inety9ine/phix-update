const productVariantOutput=document.getElementById("product-variant-output"),productVariantSelect=document.getElementById("product-variant-select"),triggerChange=t=>{var e=new Event("change");t.dispatchEvent(e)},activateOptions=function(){const d=productVariantOutput.querySelectorAll("li");for(let s of d)s.addEventListener("click",()=>{var t,e=s.dataset.id,a=s.dataset.title,o=s.dataset.inventory,l=document.getElementById("option-select-label");for(t of productVariantSelect.querySelectorAll("option"))if(t.value===e){productVariantSelect.value=e;for(const s of productVariantSelect.querySelectorAll("option"))s.value==e&&(s.selected=!0);triggerChange(productVariantSelect),l.textContent=a;var n=window.location.protocol+"//"+window.location.host+window.location.pathname+"?variant="+e,n=(window.history.replaceState({path:n},"",n),document.getElementById("toggle-options")),i=document.querySelector(".button--add-to-cart"),r=i.querySelector("span");if(console.log(o),"Out of Stock"===o?(r.textContent=label_sold_out,i.disabled=!0,l.classList.add("oos")):(r.textContent="Preorder"===o?label_preorder:label_add_to_cart,i.disabled=!1,l.classList.remove("oos")),n.parentNode.classList.remove("open"),!s.classList.contains("active")){for(var c of d)c.classList.remove("active");s.classList.add("active")}}})},activateToggle=function(){const e=document.getElementById("toggle-options");e&&e.addEventListener("click",t=>{t.preventDefault(),e.parentNode.classList.toggle("open")});var t=document.getElementById("product-variant-output");t&&(t.addEventListener("mouseover",()=>{clearTimeout(window.toggleDelay)}),t.addEventListener("mouseout",()=>{clearTimeout(window.toggleDelay),window.toggleDelay=setTimeout(()=>{e.parentNode.classList.remove("open")},500)}))};if(productVariantSelect){const t=productVariantSelect.querySelectorAll("option");let l=`<div class="option-select"><button id="toggle-options" aria-label="${label_select_size}"><span class="option-select-label" id="option-select-label">${label_select_size}</span></button><div class="option-select__scroll"><ul>`;for(let o of t){let t=o.dataset.title,e=o.dataset.inventory,a=o.value;"Out of Stock"===e?l+=`<li data-id="${a}" data-title="${t}" data-inventory="${e}" aria-label="${t}" class="disabled"><span class="option-title">${t}</span><span>${e}</span></li>`:l+=`<li data-id="${a}" data-title="${t}" data-inventory="${e}" aria-label="${t}"><span class="option-title">${t}</span><span>${e}</span></li>`}l+="</ul></div></div>",productVariantOutput.innerHTML=l,activateOptions(),activateToggle()}const getCurrentVariant=function(){var t=window.location.search,e=new URLSearchParams(t).get("variant");if(e){var a,o,l,n,t=productVariantSelect.querySelectorAll("option"),i=document.getElementById("option-select-label");for(a of t)a.value===e&&(o=a.dataset.inventory,n=(l=document.querySelector(".button--add-to-cart")).querySelector("span"),productVariantSelect.value=e,i.textContent=a.dataset.title,a.selected=!0,"Out of Stock"===o?(n.textContent=label_sold_out,l.disabled=!0,i.classList.add("oos")):(n.textContent="Preorder"===o?label_preorder:label_add_to_cart,l.disabled=!1,i.classList.remove("oos")));triggerChange(productVariantSelect)}};getCurrentVariant();