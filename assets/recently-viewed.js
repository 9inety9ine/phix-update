const getLocalItems=e=>{const t=[];e=JSON.parse(localStorage.getItem(e));return null!==e&&e.forEach(e=>{t.push(e)}),t},addToLocalItems=(e,t,o)=>{var r=getLocalItems(e);if(!(null!==r||0<r.length)||!r.includes(t)){for(r.push(t);r.length>o;)r.splice(0,1);localStorage.setItem(e,JSON.stringify(r))}},removeFromLocalItems=(e,t)=>{var o=getLocalItems(e),t=o.indexOf(t);o.splice(t,1),localStorage.setItem(e,JSON.stringify(o))},recentProductsToShow=getLocalItems("recent_phix_products"),getRecentProductCards=async()=>{let e="";for(var t of Array.from(recentProductsToShow).reverse()){var o=await fetch(window.Shopify.routes.root+"products/"+t+"?view=product-card-small");404==o.status?removeFromLocalItems("recent_phix_products",t):0<(t=await o.text()).indexOf("\x3c!--[product-card]--\x3e")&&(o=t.split("\x3c!--[product-card]--\x3e").pop().split("\x3c!--[/product-card]--\x3e")[0],e+=`<li>${o}</li>`)}return e};window.addEventListener("DOMContentLoaded",()=>{const o=document.querySelector(".recent-products");o&&getRecentProductCards().then(e=>{var t;0==e.length?(t=document.querySelector(".section-recently-viewed"))&&(t.style.display="none"):o.innerHTML=e}).finally(()=>{window.initializeImageLoad(),window.initProductCardSliders()}),addToLocalItems("recent_phix_products",localProductHandle,6)});